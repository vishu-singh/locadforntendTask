(this.webpackJsonpfrontendlocad=this.webpackJsonpfrontendlocad||[]).push([[0],{49:function(t,e,c){},50:function(t,e,c){},52:function(t,e,c){},79:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),r=c(19),s=c.n(r),o=(c(49),c(17)),u=c(44),i=(c.p,c(50),c(7)),d=c(42),l=c(8),j=c.n(l),b=c(13),p=c(16),h=c(6),O=c(21),f=(c(52),c(40)),x=c.n(f),m=function(t,e,c){var n=localStorage.getItem("token");return x()({method:c,url:"".concat("https://radiant-crag-37378.herokuapp.com/").concat(t),headers:{"Content-Type":"application/json",Authorization:"".concat(n)},data:e})},v=function(t,e){return m(t,e,"POST")},g=c(15),y=c(1),w=function(t){var e=Object(n.useState)(""),c=Object(p.a)(e,2),a=c[0],r=c[1],s=Object(n.useState)(""),o=Object(p.a)(s,2),u=o[0],i=o[1],d=t.history;function l(){return(l=Object(b.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.preventDefault(),t.next=4,v("locad/user/login",{userName:a,password:u});case 4:200==(c=t.sent).data.status&&(localStorage.setItem("token",c.data.data.token),d.push("/products")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),g.b.dark(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){localStorage.clear()}),[]),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"Login",children:Object(y.jsxs)(h.a,{onSubmit:function(t){return l.apply(this,arguments)},children:[Object(y.jsxs)(h.a.Group,{size:"lg",controlId:"email",children:[Object(y.jsx)(h.a.Label,{children:"Email"}),Object(y.jsx)(h.a.Control,{autoFocus:!0,type:"email",value:a,onChange:function(t){return r(t.target.value)}})]}),Object(y.jsxs)(h.a.Group,{size:"lg",controlId:"password",children:[Object(y.jsx)(h.a.Label,{children:"Password"}),Object(y.jsx)(h.a.Control,{type:"password",value:u,onChange:function(t){return i(t.target.value)}})]}),Object(y.jsx)(O.a,{block:!0,size:"lg",type:"submit",disabled:!(a.length>0&&u.length>0),children:"Login"})]})})})},k=c(20),N="GET_PRODUCTS",C=c(9),S=(Object(C.a)(),function(){return function(){var t=Object(b.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("locad/product/getProducts");case 3:c=t.sent,e({type:N,payload:c.data.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}),P=function(){var t=Object(b.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("locad/product/updateProduct",e);case 3:return c=t.sent,t.abrupt("return",c);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(b.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("locad/product/createNew",e);case 3:return c=t.sent,t.abrupt("return",c);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(b.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("locad/product/deleteProduct",e);case 3:return c=t.sent,t.abrupt("return",c);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),L=c.p+"static/media/sampleimage.42bfc4f9.jpeg",z=function(t){var e=Object(k.b)();Object(n.useEffect)((function(){e(S())}),[]);var c=Object(k.c)((function(t){return t.ProductReducer.products}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"container-fluid mt-4",children:[Object(y.jsx)("div",{className:"row  ",children:Object(y.jsx)("div",{className:"btn btn-success ml-auto mr-5",onClick:function(){t.history.push({pathname:"/products/add"})},children:Object(y.jsx)("i",{class:"fas fa-plus-circle",children:" Add New "})})}),Object(y.jsx)("div",{className:"row p-5 ",children:c.length?c.map((function(c){return Object(y.jsx)("div",{className:"col-lg-3 col-sm-6 col-md-6 mt-3",children:Object(y.jsxs)("div",{className:"card",style:{width:"18rem"},children:[Object(y.jsx)("img",{className:"card-img-top",src:L,alt:"Card image cap"}),Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsx)("h5",{className:"card-title",children:c.name}),Object(y.jsxs)("h6",{children:["Rs ",c.price]}),Object(y.jsx)("p",{className:"card-text",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),Object(y.jsx)("div",{className:"btn btn-primary",onClick:function(){return e=c,void t.history.push({pathname:"/products/edit/".concat(e._id),state:{product:e}});var e},children:Object(y.jsx)("i",{class:"fas fa-pencil-alt",children:" Edit"})}),Object(y.jsx)("div",{className:"btn btn-danger ml-2",onClick:function(){return function(t){var c={id:t._id};I(c).then((function(t){200==t.data.status&&(g.b.dark("Product Deleted"),e(S()))}))}(c)},children:Object(y.jsx)("i",{class:"fas fa-trash",children:" Delete"})})]})]})})})):Object(y.jsx)(y.Fragment,{children:"No products to display"})})]})})},D=function(t){var e=t.history,c=Object(n.useState)(""),a=Object(p.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(""),u=Object(p.a)(o,2),i=u[0],d=u[1],l=e.location.state;Object(n.useEffect)((function(){f()}),[]);var f=function(){s(l.product.name),d(l.product.price)};var x=function(){var t=Object(b.a)(j.a.mark((function t(c){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),n={name:r,price:i,id:l.product._id},P(n).then((function(t){200==t.data.status&&(g.b.success("Product Updated"),e.push("/products"))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"container mt-5",children:Object(y.jsxs)(h.a,{style:{width:"50vw"},onSubmit:x,children:[Object(y.jsxs)(h.a.Group,{size:"lg",controlId:"email",children:[Object(y.jsx)(h.a.Label,{children:"Product Name"}),Object(y.jsx)(h.a.Control,{autoFocus:!0,type:"text",value:r,onChange:function(t){return s(t.target.value)}})]}),Object(y.jsxs)(h.a.Group,{size:"lg",controlId:"password",children:[Object(y.jsx)(h.a.Label,{children:"Price"}),Object(y.jsx)(h.a.Control,{type:"number",value:i,onChange:function(t){return d(t.target.value)}})]}),Object(y.jsx)(O.a,{block:!0,size:"lg",type:"submit",disabled:!(r.length>0&&i>0),children:"Submit"})]})})})},E=function(t){var e=t.history,c=Object(n.useState)(""),a=Object(p.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(""),u=Object(p.a)(o,2),i=u[0],d=u[1];e.location.state;var l=function(){var t=Object(b.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),F({name:r,price:i}).then((function(t){200==t.data.status&&(g.b.success("Product Added"),e.push("/products"))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"container mt-5",children:Object(y.jsxs)(h.a,{style:{width:"50vw"},onSubmit:l,children:[Object(y.jsxs)(h.a.Group,{size:"lg",controlId:"email",children:[Object(y.jsx)(h.a.Label,{children:"Product Name"}),Object(y.jsx)(h.a.Control,{autoFocus:!0,type:"text",value:r,onChange:function(t){return s(t.target.value)}})]}),Object(y.jsxs)(h.a.Group,{size:"lg",controlId:"password",children:[Object(y.jsx)(h.a.Label,{children:"Price"}),Object(y.jsx)(h.a.Control,{type:"number",value:i,onChange:function(t){return d(t.target.value)}})]}),Object(y.jsx)(O.a,{block:!0,size:"lg",type:"submit",disabled:!(r.length>0&&i>0),children:"Submit"})]})})})},G=(c(77),function(t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("nav",{className:"navbar navbar-dark bg-dark justify-content-between",children:Object(y.jsx)("a",{className:"navbar-brand text-light",children:"Locad Testing"})})})}),T=function(t){var e=t.children;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(g.a,{}),Object(y.jsx)(G,{}),Object(y.jsx)("div",{children:e})]})};var R=function(){var t=function(t){var e=t.component,c=Object(u.a)(t,["component"]);return Object(y.jsx)(i.b,Object(o.a)(Object(o.a)({},c),{},{render:function(t){return localStorage.getItem("token")?Object(y.jsx)(e,Object(o.a)(Object(o.a)({},t),c)):Object(y.jsx)(i.a,{to:{pathname:"/"}})}}))};return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(d.a,{children:Object(y.jsx)(i.d,{children:Object(y.jsxs)(T,{children:[Object(y.jsx)(i.b,{exact:!0,path:"/",component:w}),Object(y.jsx)(t,{exact:!0,path:"/products",component:z}),Object(y.jsx)(t,{exact:!0,path:"/products/add",component:E}),Object(y.jsx)(t,{exact:!0,path:"/products/edit/:id",component:D})]})})})})},_=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,80)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;c(t),n(t),a(t),r(t),s(t)}))},A=c(18),B={products:[]},J=Object(A.c)({ProductReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:return Object(o.a)(Object(o.a)({},t),{},{products:e.payload});default:return t}}}),U=[c(43).a],q=Object(A.d)(J,A.a.apply(void 0,U));s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(k.a,{store:q,children:Object(y.jsx)(R,{})})}),document.getElementById("root")),_()}},[[79,1,2]]]);
//# sourceMappingURL=main.4affb708.chunk.js.map